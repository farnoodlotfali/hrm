import "../styles/globals.css";
import type { AppProps } from "next/app";
import AppState from "../context/AppState";
import Head from "next/head";
import "react-multi-date-picker/styles/layouts/mobile.css";
import NextNProgress from "nextjs-progressbar";
import { ToastContainer } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";

type ComponentWithPageLayout = AppProps & {
  Component: AppProps["Component"] & {
    PageLayout?: React.ComponentType;
  };
};

function MyApp({ Component, pageProps }: ComponentWithPageLayout) {
  return (
    <>
      <Head>
        <title>HRM</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/logo.svg" />
      </Head>
      <AppState>
        <ToastContainer
          pauseOnFocusLoss
          theme="colored"
          rtl
          autoClose={5000}
          bodyClassName="font-iranYekan"
        />

        <NextNProgress
          color="blue"
          options={{ easing: "ease", speed: 500 }}
          startPosition={0.3}
          stopDelayMs={200}
          height={5}
        />
        {Component.PageLayout ? (
          <Component.PageLayout>
            <Component {...pageProps} />
          </Component.PageLayout>
        ) : (
          <Component {...pageProps} />
        )}
      </AppState>
    </>
  );
}

export default MyApp;
